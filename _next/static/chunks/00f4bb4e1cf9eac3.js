(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77806,e=>{"use strict";var t=e.i(90072);let i=/^[og]\s*(.+)?/,s=/^mtllib /,r=/^usemtl /,o=/^usemap /,n=/\s+/,a=new t.Vector3,l=new t.Vector3,h=new t.Vector3,c=new t.Vector3,u=new t.Vector3,p=new t.Color;function d(){let e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration){this.object.name=e,this.object.fromDeclaration=!1!==t;return}let i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){let i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);let s={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==i?i.smooth:this.smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){let t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(s),s},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){let t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let e=this.materials.length-1;e>=0;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},i&&i.name&&"function"==typeof i.clone){let e=i.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){let i=parseInt(e,10);return(i>=0?i-1:i+t/3)*3},parseNormalIndex:function(e,t){let i=parseInt(e,10);return(i>=0?i-1:i+t/3)*3},parseUVIndex:function(e,t){let i=parseInt(e,10);return(i>=0?i-1:i+t/2)*2},addVertex:function(e,t,i){let s=this.vertices,r=this.object.geometry.vertices;r.push(s[e+0],s[e+1],s[e+2]),r.push(s[t+0],s[t+1],s[t+2]),r.push(s[i+0],s[i+1],s[i+2])},addVertexPoint:function(e){let t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){let t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,i){let s=this.normals,r=this.object.geometry.normals;r.push(s[e+0],s[e+1],s[e+2]),r.push(s[t+0],s[t+1],s[t+2]),r.push(s[i+0],s[i+1],s[i+2])},addFaceNormal:function(e,t,i){let s=this.vertices,r=this.object.geometry.normals;a.fromArray(s,e),l.fromArray(s,t),h.fromArray(s,i),u.subVectors(h,l),c.subVectors(a,l),u.cross(c),u.normalize(),r.push(u.x,u.y,u.z),r.push(u.x,u.y,u.z),r.push(u.x,u.y,u.z)},addColor:function(e,t,i){let s=this.colors,r=this.object.geometry.colors;void 0!==s[e]&&r.push(s[e+0],s[e+1],s[e+2]),void 0!==s[t]&&r.push(s[t+0],s[t+1],s[t+2]),void 0!==s[i]&&r.push(s[i+0],s[i+1],s[i+2])},addUV:function(e,t,i){let s=this.uvs,r=this.object.geometry.uvs;r.push(s[e+0],s[e+1]),r.push(s[t+0],s[t+1]),r.push(s[i+0],s[i+1])},addDefaultUV:function(){let e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){let t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,i,s,r,o,n,a,l){let h=this.vertices.length,c=this.parseVertexIndex(e,h),u=this.parseVertexIndex(t,h),p=this.parseVertexIndex(i,h);if(this.addVertex(c,u,p),this.addColor(c,u,p),void 0!==n&&""!==n){let e=this.normals.length;c=this.parseNormalIndex(n,e),u=this.parseNormalIndex(a,e),p=this.parseNormalIndex(l,e),this.addNormal(c,u,p)}else this.addFaceNormal(c,u,p);if(void 0!==s&&""!==s){let e=this.uvs.length;c=this.parseUVIndex(s,e),u=this.parseUVIndex(r,e),p=this.parseUVIndex(o,e),this.addUV(c,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";let t=this.vertices.length;for(let i=0,s=e.length;i<s;i++){let s=this.parseVertexIndex(e[i],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";let i=this.vertices.length,s=this.uvs.length;for(let t=0,s=e.length;t<s;t++)this.addVertexLine(this.parseVertexIndex(e[t],i));for(let e=0,i=t.length;e<i;e++)this.addUVLine(this.parseUVIndex(t[e],s))}};return e.startObject("",!1),e}class m extends t.Loader{constructor(e){super(e),this.materials=null}load(e,i,s,r){let o=this,n=new t.FileLoader(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,function(t){try{i(o.parse(t))}catch(t){r?r(t):console.error(t),o.manager.itemError(e)}},s,r)}setMaterials(e){return this.materials=e,this}parse(e){let a=new d;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));let l=e.split("\n"),h=[];for(let e=0,c=l.length;e<c;e++){let c=l[e].trimStart();if(0===c.length)continue;let u=c.charAt(0);if("#"!==u)if("v"===u){let e=c.split(n);switch(e[0]){case"v":a.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?(p.setRGB(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6]),t.SRGBColorSpace),a.colors.push(p.r,p.g,p.b)):a.colors.push(void 0,void 0,void 0);break;case"vn":a.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":a.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===u){let e=c.slice(1).trim().split(n),t=[];for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.length>0){let e=s.split("/");t.push(e)}}let i=t[0];for(let e=1,s=t.length-1;e<s;e++){let s=t[e],r=t[e+1];a.addFace(i[0],s[0],r[0],i[1],s[1],r[1],i[2],s[2],r[2])}}else if("l"===u){let e=c.substring(1).trim().split(" "),t=[],i=[];if(-1===c.indexOf("/"))t=e;else for(let s=0,r=e.length;s<r;s++){let r=e[s].split("/");""!==r[0]&&t.push(r[0]),""!==r[1]&&i.push(r[1])}a.addLineGeometry(t,i)}else if("p"===u){let e=c.slice(1).trim().split(" ");a.addPointGeometry(e)}else if(null!==(h=i.exec(c))){let e=(" "+h[0].slice(1).trim()).slice(1);a.startObject(e)}else if(r.test(c))a.object.startMaterial(c.substring(7).trim(),a.materialLibraries);else if(s.test(c))a.materialLibraries.push(c.substring(7).trim());else if(o.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===u){if((h=c.split(" ")).length>1){let e=h[1].trim().toLowerCase();a.object.smooth="0"!==e&&"off"!==e}else a.object.smooth=!0;let e=a.object.currentMaterial();e&&(e.smooth=a.object.smooth)}else{if("\0"===c)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}a.finalize();let c=new t.Group;if(c.materialLibraries=[].concat(a.materialLibraries),!0==(1!==a.objects.length||0!==a.objects[0].geometry.vertices.length))for(let e=0,i=a.objects.length;e<i;e++){let i,s=a.objects[e],r=s.geometry,o=s.materials,n="Line"===r.type,l="Points"===r.type,h=!1;if(0===r.vertices.length)continue;let u=new t.BufferGeometry;u.setAttribute("position",new t.Float32BufferAttribute(r.vertices,3)),r.normals.length>0&&u.setAttribute("normal",new t.Float32BufferAttribute(r.normals,3)),r.colors.length>0&&(h=!0,u.setAttribute("color",new t.Float32BufferAttribute(r.colors,3))),!0===r.hasUVIndices&&u.setAttribute("uv",new t.Float32BufferAttribute(r.uvs,2));let p=[];for(let e=0,i=o.length;e<i;e++){let i=o[e],s=i.name+"_"+i.smooth+"_"+h,r=a.materials[s];if(null!==this.materials)if(r=this.materials.create(i.name),!n||!r||r instanceof t.LineBasicMaterial){if(l&&r&&!(r instanceof t.PointsMaterial)){let e=new t.PointsMaterial({size:10,sizeAttenuation:!1});t.Material.prototype.copy.call(e,r),e.color.copy(r.color),e.map=r.map,r=e}}else{let e=new t.LineBasicMaterial;t.Material.prototype.copy.call(e,r),e.color.copy(r.color),r=e}void 0===r&&((r=n?new t.LineBasicMaterial:l?new t.PointsMaterial({size:1,sizeAttenuation:!1}):new t.MeshPhongMaterial).name=i.name,r.flatShading=!i.smooth,r.vertexColors=h,a.materials[s]=r),p.push(r)}if(p.length>1){for(let e=0,t=o.length;e<t;e++){let t=o[e];u.addGroup(t.groupStart,t.groupCount,e)}i=n?new t.LineSegments(u,p):l?new t.Points(u,p):new t.Mesh(u,p)}else i=n?new t.LineSegments(u,p[0]):l?new t.Points(u,p[0]):new t.Mesh(u,p[0]);i.name=s.name,c.add(i)}else if(a.vertices.length>0){let e=new t.PointsMaterial({size:1,sizeAttenuation:!1}),i=new t.BufferGeometry;i.setAttribute("position",new t.Float32BufferAttribute(a.vertices,3)),a.colors.length>0&&void 0!==a.colors[0]&&(i.setAttribute("color",new t.Float32BufferAttribute(a.colors,3)),e.vertexColors=!0);let s=new t.Points(i,e);c.add(s)}return c}}e.s(["OBJLoader",()=>m])}]);